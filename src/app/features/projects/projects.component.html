<div class="max-w-6xl mx-auto px-5 md:px-8">
  <!-- Title mono tipo archivo -->
  <div class="text-xs font-mono tracking-[.35em] text-zinc-500 mb-4">
    OPERACIONES
  </div>

  <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-10">
    <h2 class="text-3xl md:text-4xl font-semibold text-zinc-100">
      Proyectos reales. Entregas en producción.
    </h2>

    <!-- filtros -->
    <div class="flex flex-wrap gap-2">
      <button
        *ngFor="let c of categories"
        (click)="setCategory(c)"
        class="text-[11px] font-mono tracking-[.25em] px-3 py-1 rounded-full border transition"
        [ngClass]="{
          'border-red-600 text-zinc-100 bg-[#151A20]': active === c,
          'border-white/10 text-zinc-400 hover:text-white hover:border-white/30': active !== c
        }"
      >
        {{ c }}
      </button>
    </div>
  </div>

  <!-- grid cards -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-5 md:gap-6">
    <article
      *ngFor="let p of filtered"
      class="project-card group relative rounded-2xl border border-white/10 bg-[#0B0D10]/70 overflow-hidden
             hover:border-white/25 transition"
    >
      <!-- “thumbnail” placeholder -->
      <div class="h-52 md:h-60 bg-gradient-to-br from-black via-[#0f1116] to-black relative">
        <!-- si luego pones imagen real -->
        <img
          *ngIf="p.image"
          [src]="p.image"
          [alt]="p.title"
          class="absolute inset-0 w-full h-full object-cover opacity-80"
        />
        <!-- overlay oscuro -->
        <div class="absolute inset-0 bg-black/55"></div>

        <!-- etiqueta categoría -->
        <div class="absolute top-4 left-4 text-[10px] font-mono tracking-[.3em] text-zinc-300
                    border border-white/10 bg-black/40 px-2 py-1 rounded-full">
          {{ p.category }}
        </div>
      </div>

      <!-- contenido base -->
      <div class="p-6">
        <h3 class="text-xl font-semibold text-zinc-100 mb-2">
          {{ p.title }}
        </h3>

        <p class="text-zinc-300 mb-4">
          {{ p.oneLiner }}
        </p>

        <!-- tags stack -->
        <div class="flex flex-wrap gap-2 mb-5">
          <span
            *ngFor="let t of p.stack"
            class="text-[11px] font-mono tracking-wide text-zinc-400
                   border border-white/10 bg-black/30 px-2 py-1 rounded-full"
          >
            {{ t }}
          </span>
        </div>

        <!-- línea roja sutil -->
        <div class="h-px w-12 bg-red-600/70"></div>
      </div>

      <!-- capa hover (revela rol/impacto + botones) -->
      <div
        class="project-overlay absolute inset-0 opacity-0 group-hover:opacity-100 transition
               bg-black/85 backdrop-blur-[2px] flex flex-col justify-end"
      >
        <div class="p-6">
          <div class="text-[11px] font-mono tracking-[.3em] text-zinc-500 mb-2">
            CASE FILE
          </div>

          <p class="text-sm text-zinc-200 mb-2">
            <span class="text-zinc-400">Rol:</span> {{ p.role }}
          </p>

          <p class="text-sm text-zinc-200 mb-4">
            <span class="text-zinc-400">Impacto:</span> {{ p.impact }}
          </p>

          <!-- botones -->
          <div class="flex flex-wrap gap-2">
            <a
              *ngIf="p.links.case"
              [href]="p.links.case"
              class="inline-flex items-center justify-center rounded-xl px-4 py-2 text-xs md:text-sm
                     border border-red-600 text-zinc-100 hover:bg-red-600 hover:text-black transition"
            >
              Ver caso
            </a>

            <a
              *ngIf="p.links.live"
              [href]="p.links.live"
              target="_blank"
              class="inline-flex items-center justify-center rounded-xl px-4 py-2 text-xs md:text-sm
                     border border-white/10 text-zinc-200 hover:border-white/30 hover:text-white transition"
            >
              Live
            </a>

            <a
              *ngIf="p.links.github"
              [href]="p.links.github"
              target="_blank"
              class="inline-flex items-center justify-center rounded-xl px-4 py-2 text-xs md:text-sm
                     border border-white/10 text-zinc-200 hover:border-white/30 hover:text-white transition"
            >
              GitHub
            </a>
          </div>
        </div>
      </div>
    </article>
  </div>
</div>
